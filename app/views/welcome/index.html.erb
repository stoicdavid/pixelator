<!-- inside app/views/welcome/index.html.erb -->  


	<div class="row">
	    <div class="col">
		  <div class="form-group">
		  	<% if @picture.image.attached? %>
				<%= image_tag @picture.image %>
			<% else %>
		  
        <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false">
			<title>Carga una imagen</title>
			<rect width="100%" height="100%" fill="#eee"/>
			<text x="50%" y="50%" fill="#aaa" dy=".3em">500x500</text>
		</svg>
		<%= form_with model: @picture do |f| %>
		<%= f.label :image %>
		<%= f.file_field :image, class: "form-control" %>
		<%= f.submit %>
		<% end %>		
		<% end %>
      </div>
	  
	    </div>
	    <div class="col">
		  	<% if @picture.variations.exists? %>
				<%= image_tag @variation.image %>
				<% if (@picture.variations.size>1) %>
					<h3>Filtros aplicados</h3>
					<% @picture.variations.each do |variation| %>
						<h5><%= variation.filter_type %></h5>
					<% end %>
				<% end %>
			<% else %>			
	        <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false">
				<title>Carga una imagen</title>
				<rect width="100%" height="100%" fill="#eee"/>
				<text x="50%" y="50%" fill="#aaa" dy=".3em">500x500</text>
			</svg>
			<% end %>
	    </div>
	  </div>
	  <div class="row">

        <h2>Aplica algunos filtros</h2>

		  	<% if @picture.image.attached?%>
				<%= form_with model: @picture do |form| %>
				Filtros
					<%= form.fields_for :variation do |f| %>
						<%= f.select :filter_type, @picture.remaining_filters.collect.with_index %>
						
					<% end %>
					<%= form.submit %>
				<% end %>
			<% end %>	


	  </div>


    <hr class="featurette-divider">
